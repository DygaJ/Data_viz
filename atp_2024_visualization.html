<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@6"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@6.1.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@7"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}, "axis": {"labelFontSize": 11, "titleFontSize": 13}, "title": {"anchor": "start", "fontSize": 14}}, "vconcat": [{"data": {"name": "data-85347845b2d87dfb264d546109171922"}, "mark": {"type": "bar"}, "encoding": {"color": {"field": "surface", "legend": null, "scale": {"domain": ["Hard", "Clay", "Grass"], "range": ["#1f77b4", "#d62728", "#2ca02c"]}, "title": "Surface", "type": "nominal"}, "opacity": {"condition": {"param": "surface_select", "value": 1}, "value": 0.5}, "tooltip": [{"field": "surface", "title": "Surface", "type": "nominal"}, {"field": "avg_1stWon_pct", "format": ".1f", "title": "1st Serve Won %", "type": "quantitative"}, {"field": "avg_hours", "format": ".2f", "title": "Avg Duration (hours)", "type": "quantitative"}, {"field": "tournament_count", "title": "Tournaments", "type": "quantitative"}, {"field": "player_count", "title": "Total Players", "type": "quantitative"}], "x": {"axis": {"labelAngle": 0}, "field": "surface", "sort": ["Hard", "Clay", "Grass"], "title": "Surface Type", "type": "nominal"}, "y": {"field": "display_value", "title": "Value (% or hours)", "type": "quantitative"}}, "height": 250, "name": "view_1a00a2975909e081_0", "title": {"text": "ATP 2024: Performance by Surface Type", "subtitle": "Click a bar to filter tournaments below"}, "transform": [{"calculate": "datum.avg_1stWon_pct", "as": "metric_value"}, {"calculate": "datum.avg_hours", "as": "hours_value"}, {"calculate": "metric == '1stWon_pct' ? datum.metric_value : datum.hours_value", "as": "display_value"}], "width": 400}, {"data": {"name": "data-4dc8ff569c2d30f6c32df34a94bf77b1"}, "mark": {"type": "bar"}, "encoding": {"color": {"field": "surface", "scale": {"domain": ["Hard", "Clay", "Grass"], "range": ["#1f77b4", "#d62728", "#2ca02c"]}, "title": "Surface", "type": "nominal"}, "tooltip": [{"field": "tourney_name", "title": "Tournament", "type": "nominal"}, {"field": "surface", "title": "Surface", "type": "nominal"}, {"field": "tournament_type", "title": "Type", "type": "nominal"}, {"field": "avg_1stWon_pct", "format": ".1f", "title": "1st Serve Won %", "type": "quantitative"}, {"field": "avg_hours", "format": ".2f", "title": "Avg Duration (hours)", "type": "quantitative"}, {"field": "player_count", "title": "Players", "type": "quantitative"}], "x": {"axis": {"labelAngle": -45, "labelLimit": 150}, "field": "tourney_name", "sort": "-y", "title": "Tournament", "type": "nominal"}, "y": {"field": "display_value", "title": "Value (% or hours)", "type": "quantitative"}}, "height": 350, "title": {"text": "Tournaments within Selected Surface", "subtitle": "Filtered by surface selection above"}, "transform": [{"filter": {"param": "surface_select"}}, {"filter": "(tourney_type == null) || (datum.tournament_type == tourney_type)"}, {"calculate": "datum.avg_1stWon_pct", "as": "metric_value"}, {"calculate": "datum.avg_hours", "as": "hours_value"}, {"calculate": "metric == '1stWon_pct' ? datum.metric_value : datum.hours_value", "as": "display_value"}], "width": 800}], "params": [{"name": "metric", "bind": {"input": "radio", "options": ["1stWon_pct", "hours"], "labels": ["1st Serve Won (%)", "Match Duration (hours)"], "name": "Metric: "}, "value": "1stWon_pct"}, {"name": "surface_select", "select": {"type": "point", "fields": ["surface"]}, "views": ["view_1a00a2975909e081_0"]}, {"name": "tourney_type", "bind": {"input": "radio", "options": [null, "Grand Slam (Best-of-5)", "Other (Best-of-3)"], "labels": ["All Types", "Grand Slams (Best-of-5)", "Other (Best-of-3)"], "name": "Tournament Type: "}, "value": null}], "resolve": {"scale": {"color": "shared"}}, "$schema": "https://vega.github.io/schema/vega-lite/v6.1.0.json", "datasets": {"data-85347845b2d87dfb264d546109171922": [{"surface": "Clay", "avg_1stWon_pct": 67.2, "avg_minutes": 115.0, "player_count": 752, "tournament_count": 20, "avg_hours": 1.92}, {"surface": "Grass", "avg_1stWon_pct": 73.5, "avg_minutes": 110.2, "player_count": 332, "tournament_count": 8, "avg_hours": 1.84}, {"surface": "Hard", "avg_1stWon_pct": 71.4, "avg_minutes": 108.8, "player_count": 1587, "tournament_count": 39, "avg_hours": 1.81}], "data-4dc8ff569c2d30f6c32df34a94bf77b1": [{"surface": "Clay", "tourney_name": "Barcelona", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 65.3, "avg_minutes": 108.7, "player_count": 48, "avg_hours": 1.81}, {"surface": "Clay", "tourney_name": "Bastad", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 66.8, "avg_minutes": 119.9, "player_count": 28, "avg_hours": 2.0}, {"surface": "Clay", "tourney_name": "Bucharest", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 66.2, "avg_minutes": 126.7, "player_count": 28, "avg_hours": 2.11}, {"surface": "Clay", "tourney_name": "Buenos Aires", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 65.1, "avg_minutes": 110.3, "player_count": 28, "avg_hours": 1.84}, {"surface": "Clay", "tourney_name": "Cordoba", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 64.4, "avg_minutes": 123.7, "player_count": 28, "avg_hours": 2.06}, {"surface": "Clay", "tourney_name": "Estoril", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 66.8, "avg_minutes": 114.4, "player_count": 28, "avg_hours": 1.91}, {"surface": "Clay", "tourney_name": "Geneva", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 69.1, "avg_minutes": 104.2, "player_count": 28, "avg_hours": 1.74}, {"surface": "Clay", "tourney_name": "Gstaad", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 74.7, "avg_minutes": 118.6, "player_count": 28, "avg_hours": 1.98}, {"surface": "Clay", "tourney_name": "Hamburg", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 66.1, "avg_minutes": 113.2, "player_count": 32, "avg_hours": 1.89}, {"surface": "Clay", "tourney_name": "Houston", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 71.8, "avg_minutes": 119.7, "player_count": 28, "avg_hours": 1.99}, {"surface": "Clay", "tourney_name": "Kitzbuhel", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 67.9, "avg_minutes": 120.1, "player_count": 28, "avg_hours": 2.0}, {"surface": "Clay", "tourney_name": "Lyon", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 67.6, "avg_minutes": 110.7, "player_count": 28, "avg_hours": 1.84}, {"surface": "Clay", "tourney_name": "Madrid Masters", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 68.7, "avg_minutes": 112.3, "player_count": 96, "avg_hours": 1.87}, {"surface": "Clay", "tourney_name": "Marrakech", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 68.5, "avg_minutes": 111.6, "player_count": 28, "avg_hours": 1.86}, {"surface": "Clay", "tourney_name": "Monte Carlo Masters", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 64.7, "avg_minutes": 105.9, "player_count": 56, "avg_hours": 1.76}, {"surface": "Clay", "tourney_name": "Munich", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 66.8, "avg_minutes": 111.9, "player_count": 28, "avg_hours": 1.86}, {"surface": "Clay", "tourney_name": "Rio De Janeiro", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 63.4, "avg_minutes": 110.2, "player_count": 32, "avg_hours": 1.84}, {"surface": "Clay", "tourney_name": "Rome Masters", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 68.0, "avg_minutes": 116.9, "player_count": 96, "avg_hours": 1.95}, {"surface": "Clay", "tourney_name": "Santiago", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 65.6, "avg_minutes": 127.4, "player_count": 28, "avg_hours": 2.12}, {"surface": "Clay", "tourney_name": "Umag", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 67.4, "avg_minutes": 114.0, "player_count": 28, "avg_hours": 1.9}, {"surface": "Grass", "tourney_name": "Eastbourne", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 73.2, "avg_minutes": 96.5, "player_count": 28, "avg_hours": 1.61}, {"surface": "Grass", "tourney_name": "Halle", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 76.1, "avg_minutes": 104.1, "player_count": 32, "avg_hours": 1.74}, {"surface": "Grass", "tourney_name": "Mallorca", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 69.9, "avg_minutes": 105.0, "player_count": 28, "avg_hours": 1.75}, {"surface": "Grass", "tourney_name": "Newport", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 70.7, "avg_minutes": 110.1, "player_count": 28, "avg_hours": 1.83}, {"surface": "Grass", "tourney_name": "Queen's Club", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 75.1, "avg_minutes": 98.7, "player_count": 32, "avg_hours": 1.64}, {"surface": "Grass", "tourney_name": "Stuttgart", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 77.5, "avg_minutes": 99.0, "player_count": 28, "avg_hours": 1.65}, {"surface": "Grass", "tourney_name": "Wimbledon", "tournament_type": "Grand Slam (Best-of-5)", "is_grand_slam": true, "avg_1stWon_pct": 72.2, "avg_minutes": 162.5, "player_count": 128, "avg_hours": 2.71}, {"surface": "Grass", "tourney_name": "s Hertogenbosch", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 73.0, "avg_minutes": 105.5, "player_count": 28, "avg_hours": 1.76}, {"surface": "Hard", "tourney_name": "Acapulco", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 71.5, "avg_minutes": 122.6, "player_count": 32, "avg_hours": 2.04}, {"surface": "Hard", "tourney_name": "Adelaide", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 67.4, "avg_minutes": 108.1, "player_count": 28, "avg_hours": 1.8}, {"surface": "Hard", "tourney_name": "Almaty", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 72.2, "avg_minutes": 98.8, "player_count": 28, "avg_hours": 1.65}, {"surface": "Hard", "tourney_name": "Antwerp", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 70.0, "avg_minutes": 101.8, "player_count": 28, "avg_hours": 1.7}, {"surface": "Hard", "tourney_name": "Atlanta", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 72.4, "avg_minutes": 102.8, "player_count": 28, "avg_hours": 1.71}, {"surface": "Hard", "tourney_name": "Auckland", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 70.0, "avg_minutes": 100.1, "player_count": 28, "avg_hours": 1.67}, {"surface": "Hard", "tourney_name": "Australian Open", "tournament_type": "Grand Slam (Best-of-5)", "is_grand_slam": true, "avg_1stWon_pct": 70.8, "avg_minutes": 181.1, "player_count": 128, "avg_hours": 3.02}, {"surface": "Hard", "tourney_name": "Basel", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 75.7, "avg_minutes": 99.6, "player_count": 32, "avg_hours": 1.66}, {"surface": "Hard", "tourney_name": "Beijing", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 71.5, "avg_minutes": 108.8, "player_count": 32, "avg_hours": 1.81}, {"surface": "Hard", "tourney_name": "Belgrade", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 70.4, "avg_minutes": 87.9, "player_count": 28, "avg_hours": 1.47}, {"surface": "Hard", "tourney_name": "Brisbane", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 73.3, "avg_minutes": 123.9, "player_count": 32, "avg_hours": 2.07}, {"surface": "Hard", "tourney_name": "Canada Masters", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 71.2, "avg_minutes": 102.3, "player_count": 56, "avg_hours": 1.71}, {"surface": "Hard", "tourney_name": "Chengdu", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 74.7, "avg_minutes": 114.3, "player_count": 28, "avg_hours": 1.91}, {"surface": "Hard", "tourney_name": "Cincinnati Masters", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 73.4, "avg_minutes": 109.1, "player_count": 56, "avg_hours": 1.82}, {"surface": "Hard", "tourney_name": "Dallas", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 69.8, "avg_minutes": 95.7, "player_count": 28, "avg_hours": 1.59}, {"surface": "Hard", "tourney_name": "Delray Beach", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 70.3, "avg_minutes": 107.4, "player_count": 28, "avg_hours": 1.79}, {"surface": "Hard", "tourney_name": "Doha", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 68.6, "avg_minutes": 100.1, "player_count": 28, "avg_hours": 1.67}, {"surface": "Hard", "tourney_name": "Dubai", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 71.2, "avg_minutes": 107.5, "player_count": 32, "avg_hours": 1.79}, {"surface": "Hard", "tourney_name": "Hangzhou", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 68.6, "avg_minutes": 99.8, "player_count": 28, "avg_hours": 1.66}, {"surface": "Hard", "tourney_name": "Hong Kong", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 70.5, "avg_minutes": 110.6, "player_count": 28, "avg_hours": 1.84}, {"surface": "Hard", "tourney_name": "Indian Wells Masters", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 70.4, "avg_minutes": 103.2, "player_count": 96, "avg_hours": 1.72}, {"surface": "Hard", "tourney_name": "Laver Cup", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 73.9, "avg_minutes": 109.1, "player_count": 12, "avg_hours": 1.82}, {"surface": "Hard", "tourney_name": "Los Cabos", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 66.1, "avg_minutes": 105.6, "player_count": 28, "avg_hours": 1.76}, {"surface": "Hard", "tourney_name": "Marseille", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 72.9, "avg_minutes": 102.3, "player_count": 28, "avg_hours": 1.71}, {"surface": "Hard", "tourney_name": "Metz", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 68.9, "avg_minutes": 108.3, "player_count": 28, "avg_hours": 1.8}, {"surface": "Hard", "tourney_name": "Miami Masters", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 70.2, "avg_minutes": 108.2, "player_count": 96, "avg_hours": 1.8}, {"surface": "Hard", "tourney_name": "Montpellier", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 68.5, "avg_minutes": 115.7, "player_count": 28, "avg_hours": 1.93}, {"surface": "Hard", "tourney_name": "Next Gen Finals", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 73.7, "avg_minutes": 95.8, "player_count": 8, "avg_hours": 1.6}, {"surface": "Hard", "tourney_name": "Paris Masters", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 75.2, "avg_minutes": 108.3, "player_count": 56, "avg_hours": 1.8}, {"surface": "Hard", "tourney_name": "Rotterdam", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 75.1, "avg_minutes": 113.8, "player_count": 32, "avg_hours": 1.9}, {"surface": "Hard", "tourney_name": "Shanghai Masters", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 71.0, "avg_minutes": 107.1, "player_count": 96, "avg_hours": 1.79}, {"surface": "Hard", "tourney_name": "Stockholm", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 71.9, "avg_minutes": 97.1, "player_count": 28, "avg_hours": 1.62}, {"surface": "Hard", "tourney_name": "Tokyo", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 70.1, "avg_minutes": 109.8, "player_count": 32, "avg_hours": 1.83}, {"surface": "Hard", "tourney_name": "Tour Finals", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 76.2, "avg_minutes": 92.8, "player_count": 8, "avg_hours": 1.55}, {"surface": "Hard", "tourney_name": "United Cup", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 74.0, "avg_minutes": 113.3, "player_count": 19, "avg_hours": 1.89}, {"surface": "Hard", "tourney_name": "Us Open", "tournament_type": "Grand Slam (Best-of-5)", "is_grand_slam": true, "avg_1stWon_pct": 69.6, "avg_minutes": 164.4, "player_count": 128, "avg_hours": 2.74}, {"surface": "Hard", "tourney_name": "Vienna", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 71.8, "avg_minutes": 97.7, "player_count": 32, "avg_hours": 1.63}, {"surface": "Hard", "tourney_name": "Washington", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 73.4, "avg_minutes": 106.4, "player_count": 48, "avg_hours": 1.77}, {"surface": "Hard", "tourney_name": "Winston-Salem", "tournament_type": "Other (Best-of-3)", "is_grand_slam": false, "avg_1stWon_pct": 68.7, "avg_minutes": 100.4, "player_count": 48, "avg_hours": 1.67}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>